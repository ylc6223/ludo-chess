# 游戏规则引擎

## 棋子构成
四国军棋中每位玩家的25枚棋子,每方一套 25 枚棋子，共四方（红、蓝、绿、黄），总计 100 枚。
构成如下：
军官类棋子（可移动攻击）：

司令 - 1枚
军长 - 1枚
师长 - 2枚
旅长 - 2枚
团长 - 2枚
营长 - 2枚
连长 - 3枚
排长 - 3枚
工兵 - 3枚

特殊功能棋子：
10. 地雷 - 3枚（固定防御，除工兵外其他棋子碰到会同归于尽）
11. 军旗 - 1枚（不能移动，被夺取则该玩家出局）
12. 炸弹 - 2枚（可与任何棋子同归于尽）
    总计：25枚棋子
    其中司令战斗力最强，依次递减到排长。工兵虽然战斗力最弱，但具有挖雷的特殊能力。地雷和军旗必须放置在后两排的固定位置（大本营和兵站），其他棋子可以自由布置在前三排。

## 棋子的移动规则

四国军棋的棋子移动规则如下：
基本移动规则
1. 普通棋子移动

司令、军长、师长、旅长、团长、营长、连长、排长、炸弹：每次只能移动一步
移动方向：上、下、左、右四个方向，不能斜向移动
只能沿着棋盘上的线路移动，不能跨越其他棋子

2. 工兵特殊移动

在铁路线上：可以任意距离移动，只要路径畅通无阻
在公路上：只能移动一步（与普通棋子相同）
工兵是唯一可以在铁路上远距离移动的棋子

3. 固定棋子

军旗：完全不能移动，必须始终留在大本营
地雷：完全不能移动，只能放置在大本营或兵站

路径规则
铁路线

粗线表示，连接各个重要位置
普通棋子在铁路线上仍只能移动一步
只有工兵可以在铁路线上进行远距离移动

公路

细线表示，连接相邻位置
所有可移动棋子都只能移动一步

移动限制

不能移动到己方棋子占据的位置
不能跨越任何其他棋子（工兵在铁路上移动时也不例外）
不能移动到棋盘边界之外
大本营和兵站有特殊的进入规则，通常只有己方棋子可以进入己方的大本营




## 胜负判断规则

四国军棋游戏模式
阵营设置：

红蓝联盟 vs 黄绿联盟（2v2对战）
对角线玩家为盟友关系
相邻玩家为敌对关系

单个棋子对战规则
1. 等级制胜负

司令 > 军长 > 师长 > 旅长 > 团长 > 营长 > 连长 > 排长 > 工兵
高等级棋子吃掉低等级棋子
同等级棋子相遇则同归于尽

2. 特殊棋子规则
   工兵的特殊能力：

工兵可以挖掉敌方地雷（工兵存活，地雷被清除）
工兵遇到其他敌方军官棋子时被吃掉
工兵遇到炸弹时同归于尽

炸弹规则：

炸弹与任何敌方棋子相遇都同归于尽（包括司令）
炸弹不能主动攻击，只在被攻击时引爆

地雷规则：

除敌方工兵外，任何敌方棋子碰到地雷都同归于尽
地雷不能移动，只能被动防御

军旗规则：

军旗不参与战斗，不能移动
军旗被任何敌方棋子夺取，该玩家立即阵亡

游戏胜负判断规则
个人阵亡条件：

军旗被夺：敌方任意棋子到达己方军旗位置
无棋可动：所有能移动的棋子都被消灭，只剩不可移动的军旗和地雷

联盟协作规则：

盟友可以帮助保护彼此的军旗
盟友棋子不能相互攻击
盟友可以协调战术，但不能交换棋子控制权

游戏结束条件：

某个联盟获胜：对方联盟的两名玩家都阵亡
不会因单人阵亡而结束：即使一方联盟中有一人阵亡，只要另一人还存活，游戏继续进行

胜负结果：

获胜联盟：两人都算获胜
失败联盟：两人都算失败
不存在个人胜负，只有联盟胜负